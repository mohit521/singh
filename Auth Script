// js/auth.js
import { api } from './api.js';

export async function login(email, password) {
  const res = await api('/auth/login', 'POST', { email, password }, false);
  localStorage.setItem('token', res.token);
  localStorage.setItem('user', JSON.stringify(res.user));
  return res.user;
}

export async function signup(email, password, fullName) {
  const res = await api('/auth/signup', 'POST', { email, password, fullName }, false);
  localStorage.setItem('token', res.token);
  localStorage.setItem('user', JSON.stringify(res.user));
  return res.user;
}

export function logout() {
  localStorage.removeItem('token');
  localStorage.removeItem('user');
}
